{"ast":null,"code":"import getImage from \"../getImage\";\nconst api_key = 'b677204d99e9870416faefa56773d56c';\nexport default async function getBackdrop() {\n  const apiURLMovie = `https://api.themoviedb.org/3/movie/popular?api_key=${api_key}&language=es-ES&page=1`;\n  const apiURLSerie = `https://api.themoviedb.org/3/tv/popular?api_key=${api_key}&language=es-ES&page=1`;\n  let apiURLMovieImg = ``;\n  let apiURLSerieImg = ``;\n  const arr = [];\n  const arr_idMovie = [];\n  const arr_idSerie = [];\n  const arr_logo = [];\n  fetch(apiURLMovie).then(res => res.json()).then(response => {\n    const data = response.results;\n    data.map(movie => {\n      const {\n        backdrop_path,\n        id\n      } = movie;\n      const url = getImage(backdrop_path);\n      arr.push(url);\n      arr_idMovie.push(id);\n      return 1;\n    });\n  });\n  fetch(apiURLSerie).then(res => res.json()).then(response => {\n    const data = response.results;\n    data.map(serie => {\n      const {\n        backdrop_path,\n        id\n      } = serie;\n      const url = getImage(backdrop_path);\n      arr.push(url);\n      arr_idSerie.push(id);\n      return 1;\n    });\n  });\n  let i = 0;\n\n  function getMovieImg() {\n    apiURLMovieImg = `https://api.themoviedb.org/3/movie/${arr_idMovie[i]}/images?api_key=${api_key}`;\n    fetch(apiURLMovieImg).then(res => res.json()).then(response => {\n      const data = response.logos[0];\n      data === [] ? '' : arr_logo.push(getImage(file_path));\n      i++;\n      setTimeout(getMovieImg, 2000);\n    });\n  }\n\n  setTimeout(getMovieImg, 2000);\n  let j = 0;\n\n  function getSerieImg() {\n    apiURLSerieImg = `https://api.themoviedb.org/3/serie/${arr_idSerie[j]}/images?api_key=${api_key}`;\n    fetch(apiURLSerieImg).then(res => res.json()).then(response => {\n      const {\n        file_path\n      } = response.logos[0];\n      arr_logo.push(getImage(file_path));\n      j++;\n      setTimeout(getSerieImg, 2000);\n    });\n  }\n\n  setTimeout(getSerieImg, 2000);\n  console.log(arr_idMovie);\n  console.log(arr_logo);\n  return [arr, arr_idMovie.concat(arr_idSerie), arr_logo];\n}","map":{"version":3,"sources":["C:/Users/Evelyn/OneDrive/Documentos/React-movie-api-v2/React-movie-api-v2/src/services/getBackdrop/index.js"],"names":["getImage","api_key","getBackdrop","apiURLMovie","apiURLSerie","apiURLMovieImg","apiURLSerieImg","arr","arr_idMovie","arr_idSerie","arr_logo","fetch","then","res","json","response","data","results","map","movie","backdrop_path","id","url","push","serie","i","getMovieImg","logos","file_path","setTimeout","j","getSerieImg","console","log","concat"],"mappings":"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","sourcesContent":["import getImage from \"../getImage\"\r\n\r\nconst api_key = 'b677204d99e9870416faefa56773d56c'\r\n\r\n\r\nexport default async function getBackdrop() { \r\n    const apiURLMovie = \r\n    `https://api.themoviedb.org/3/movie/popular?api_key=${api_key}&language=es-ES&page=1`\r\n\r\n    const apiURLSerie = \r\n    `https://api.themoviedb.org/3/tv/popular?api_key=${api_key}&language=es-ES&page=1`\r\n    \r\n    let apiURLMovieImg = ``\r\n\r\n    let apiURLSerieImg = ``\r\n\r\n    const arr = []\r\n\r\n    const arr_idMovie = []\r\n\r\n    const arr_idSerie = []\r\n\r\n    const arr_logo = []\r\n\r\n    fetch(apiURLMovie)\r\n        .then(res => res.json())\r\n        .then(response => {\r\n            const data = response.results\r\n            data.map(movie => { \r\n                const { backdrop_path, id } = movie \r\n                const url = getImage(backdrop_path)\r\n                arr.push(url)\r\n                arr_idMovie.push(id)\r\n                return 1\r\n            }) \r\n        })\r\n    \r\n    fetch(apiURLSerie)\r\n        .then(res => res.json())\r\n        .then(response => {\r\n            const data = response.results\r\n            data.map(serie => { \r\n                const { backdrop_path , id } = serie \r\n                const url = getImage(backdrop_path)\r\n                arr.push(url)\r\n                arr_idSerie.push(id)\r\n                return 1\r\n            }) \r\n        })\r\n\r\n    let i = 0\r\n    function getMovieImg() {\r\n        apiURLMovieImg = `https://api.themoviedb.org/3/movie/${arr_idMovie[i]}/images?api_key=${api_key}`\r\n        fetch(apiURLMovieImg)\r\n        .then(res => res.json())\r\n        .then(response => {\r\n            const data = response.logos[0]\r\n            data === [] ? '' : arr_logo.push(getImage(file_path)); i++\r\n            setTimeout(getMovieImg, 2000);\r\n            })\r\n    }\r\n    setTimeout(getMovieImg, 2000);\r\n\r\n    let j = 0\r\n    function getSerieImg() {\r\n        apiURLSerieImg = `https://api.themoviedb.org/3/serie/${arr_idSerie[j]}/images?api_key=${api_key}`\r\n        fetch(apiURLSerieImg)\r\n        .then(res => res.json())\r\n        .then(response => {\r\n            const { file_path } = response.logos[0]\r\n            arr_logo.push(getImage(file_path)); j++\r\n            setTimeout(getSerieImg, 2000);\r\n            })\r\n    }\r\n    setTimeout(getSerieImg, 2000);\r\n    \r\n    console.log(arr_idMovie)\r\n    console.log(arr_logo)\r\n    return [arr, arr_idMovie.concat(arr_idSerie), arr_logo]\r\n}"]},"metadata":{},"sourceType":"module"}